```java
            // удаление связи с  прошлой заправкой у всех колонок станции
            for (let column of refill.filColums) {
                const fill = await this.masterPostgres.tryToDatabase([column.columnId, null], this.updateFill.bind(this))
            }
            // DELETE AND удаление типов топлива у всех пришедших колонок
            console.log(stations, 11111111111111)
            for (const stationData of stations) {
                let filColumnArr = []
                for (let fuel of stationData.fuels) {
                    const fuels = await this.typeFuelRepo.find({
                        where: {
                            // type: fuel,
                            columnID: stationData.columnId,
                        },
                    })
                    console.log(fuels[0], 2222222222222222222222222)
                    filColumnArr.push(fuels[0])
                }
                // filColumnArr = await this.typeFuelRepo.find({
                //     where: {
                //         column: stationData.columnId,
                //     },
                // })
                let type
                for (type of filColumnArr) {
                    try {
                        await this.typeFuelRepo.delete(type)
                    } catch (err) {
                        console.log(err)
                    }
                }
            }

            for (const stationData of stations) {
                // либо обновляем либо создаем новую

                let columnObj
                columnObj = await this.masterPostgres.tryToDatabase(
                    [stationData.columnId, refill.id],
                    this.createFill.bind(this)
                )

                if (columnObj.status == 404) {
                    columnObj = await this.masterPostgres.tryToDatabase(
                        [stationData.columnId, refill.id],
                        this.updateFill.bind(this)
                    )
                }

                let column
                if (columnObj.status == 200) {
                    column = columnObj.data
                } else {
                    const columnOldObj = await this.masterPostgres.tryToDatabase(
                        [stationData.columnId],
                        this.findFill.bind(this)
                    )
                    column = columnOldObj.data[0]
                }

                for (let type of stationData.fuels) {
                    const fuel = await this.typeFuelRepo.create({
                        column: column,
                        type: type,
                    })
                    await this.typeFuelRepo.save(fuel)
                }
            }

```






# Резюме дня, то, что запомнилось больше всего